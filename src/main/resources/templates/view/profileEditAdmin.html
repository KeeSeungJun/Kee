<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 정보 수정</title>

    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer">

    <link rel="stylesheet" th:href="@{/css/globals.css}"/>
    <link rel="stylesheet" th:href="@{/css/profileEditAdmin.css}"/>
    <link rel="stylesheet" th:href="@{/css/toast.css}"/>
</head>
<body>

<header class="mobile-header">
    <a th:href="@{/adminprofile}" class="back-btn"><i class="fa-solid fa-chevron-left"></i></a>
    <span class="text">관리자 정보 수정</span>
</header>

<div class="edit-container">

    <form id="adminProfileForm" onsubmit="return false;">
        <section class="form-section">
            <h3 class="section-title">기본 정보</h3>

            <div class="input-group">
                <label for="name">이름</label>
                <input type="text" id="name" placeholder="이름" readonly disabled class="readonly-input">
            </div>

            <div class="input-group">
                <label for="userId">아이디</label>
                <input type="text" id="userId" placeholder="아이디" readonly disabled class="readonly-input">
            </div>

            <div class="input-group">
                <label for="department">소속 부서</label>
                <input type="text" id="department" placeholder="예: 인사팀, 운영팀">
            </div>
        </section>

        <section class="form-section">
            <h3 class="section-title">계정 보안</h3>

            <div class="input-group">
                <label for="phone">휴대전화번호</label>
                <div class="flex-row">
                    <input type="tel" id="phone" placeholder="'-' 없이 입력" maxlength="11">
                    <button type="button" class="small-btn outline" onclick="startVerification()">인증요청</button>
                </div>
            </div>

            <div class="input-group verification-area" id="verification-area" style="display: none;">
                <div class="flex-row">
                    <div class="timer-input-box">
                        <input type="text" id="verification-code" placeholder="인증번호 6자리" maxlength="6">
                        <span id="timer">03:00</span>
                    </div>
                    <button type="button" class="small-btn fill" onclick="verifyCode()">확인</button>
                </div>
            </div>

            <div class="accordion-pw">
                <button type="button" class="pw-toggle-btn" onclick="togglePasswordSection()">
                    <span>비밀번호 변경하기</span>
                    <i class="fa-solid fa-chevron-down" id="pw-arrow"></i>
                </button>

                <div class="pw-content" id="pw-content">
                    <div class="input-group">
                        <div class="password-wrapper">
                            <input type="password" id="current-password" placeholder="현재 비밀번호">
                            <i class="fa-solid fa-eye toggle-pw" onclick="togglePassword('current-password', this)"></i>
                        </div>
                    </div>
                    <div class="input-group">
                        <div class="password-wrapper">
                            <input type="password" id="new-password" placeholder="새 비밀번호 (6자 이상)">
                            <i class="fa-solid fa-eye toggle-pw" onclick="togglePassword('new-password', this)"></i>
                        </div>
                    </div>
                    <div class="input-group">
                        <div class="password-wrapper">
                            <input type="password" id="confirm-password" placeholder="새 비밀번호 확인">
                            <i class="fa-solid fa-eye toggle-pw" onclick="togglePassword('confirm-password', this)"></i>
                        </div>
                    </div>
                    <button type="button" class="save-pw-btn" onclick="changePassword()">비밀번호 변경 저장</button>
                </div>
            </div>
        </section>

        <div class="bottom-action-area">
            <button type="button" class="submit-btn" onclick="submitAdminProfile()">수정 완료</button>
        </div>
    </form>
</div>

<div class="bottom-icons">
    <a th:href="@{/adminprofile}" class="icon-link active">
        <i class="fa-solid fa-user"></i>
        <span>프로필</span>
    </a>
    <a th:href="@{/adminmain}" class="icon-link">
        <i class="fa-solid fa-house"></i>
        <span>메인</span>
    </a>
    <a th:href="@{/mapAdmin}" class="icon-link">
        <i class="fa-solid fa-map"></i>
        <span>등록된 일자리 지도</span>
    </a>
</div>

<script th:src="@{/js/toast.js}"></script>
<script th:src="@{/js/profileEditAdmin.js}"></script>
</body>
</html>